<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="style.css">
    <title></title>
</head>
<body>

    <style src="mystyle.css"></style>
    <section>
        <div class="row">
            <div class="col">
                <div class="buttonHolder">
                    <input id="inputname" type="text" placeholder="Username">
                    <input onclick="getInput()" id="submitname" type="button" value="Submit">
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col">
                <div><b>User Profile</b></div><br />
                <div class="profileElement">
                    <div><img src="1.jpg" id="user_avatar" /></div>
                    <div id="username"><span><b>Name </b></span></div>
                    <div><span><b>Username </b></span></div>
                    <div><span><b>Email </b></span></div>
                    <div><span><b>Location </b></span></div>
                    <div><span><b>Number of Gists </b></span></div>
                </div>
            </div>

            <div class="col">
               <div><b>User Repos</b></div><br />
                <div class="userRepo">
                    <label> Name</label><br />
                    <label> Description</label><br />
                </div>
            </div>
        </div>
    </section>

    <script>

        function fetch(url, options) {
            // ensure options is not undefined. Set it to an empty array if it is.
            options = options || {};
            return new Promise(function (resolve, reject) {
                // Check if our http method is specified. Is so use the specified one. If not use GET by default.
                var httpMethod = options.hasOwnProperty('method') ? options.method : 'GET';
                try {
                    var xhr = new XMLHttpRequest();
                    xhr.onreadystatechange = function () {
                        if (xhr.readyState == XMLHttpRequest.DONE) {
                            // Finished getting our request and 200 indicates a successful result
                            if (xhr.status == 200) {
                                resolve(xhr.response);
                            } else {
                                // Otherwise we are finished and did not get a successful result.
                                reject("Http Request Error: " + xhr.statusText);
                            }
                        }
                    }
                    // Check if we have any headers specified and assign them to the request header.
                    if (options.hasOwnProperty("header")) {
                        for (var index in options.header) {
                            xhr.setRequestHeader(index, options.header);
                        }
                    }

                    xhr.open(httpMethod, url, true);
                    xhr.send();
                } catch (e) {
                    reject("Failed to make request: " + e);
                }
            });
        };

        function getInput() {
            var getInput = document.getElementById('inputname').value;
            var searchUsername = document.getElementById('username').innerHTML = getInput;

            if (searchUsername == null || searchUsername == "") {
                console.log("please enter a username");
            }
            console.log("tested");
        }

        function parseJSONArray() {

            fetch('https://api.github.com/users').then(function (result) {

                var json;
                // Parse the json and do some error checking to ensure it is valid JSON.
                try {
                    json = JSON.parse(result);
                } catch (e) {
                    console.log("Could not parse JSON. Result: " + result);
                    return;
                }
                
                var x = document.forms['']

                var todos = json.filter(function (item) { return item.login === 'mojombo'; });
                console.log(todos);

                var getUsername = document.getElementById('username').innerHTML = 'hello';
            });
        }


        (function () {
            parseJSONArray();
            //failedRequest();
        })();

    </script>

</body>
</html>